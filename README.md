# System Metrics Exporter

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π —ç–∫—Å–ø–æ—Ä—Ç–µ—Ä –º–µ—Ç—Ä–∏–∫ —Å–∏—Å—Ç–µ–º—ã –¥–ª—è Prometheus. –≠–∫—Å–ø–æ—Ä—Ç–µ—Ä —Å–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ —Å–∏—Å—Ç–µ–º—ã (–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä, –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å, –¥–∏—Å–∫–∏) –∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏—Ö –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —á–µ—Ä–µ–∑ Grafana.

---

## üöÄ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

–≠–∫—Å–ø–æ—Ä—Ç–µ—Ä –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ –º–µ—Ç—Ä–∏–∫–∏:

- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–∞**: –∑–∞–≥—Ä—É–∑–∫–∞ —è–¥–µ—Ä.
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏**: –æ–±—â–∞—è –∏ –∏—Å–ø–æ–ª—å–∑—É–µ–º–∞—è –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω–∞—è –ø–∞–º—è—Ç—å.
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –¥–∏—Å–∫–æ–≤**: –æ–±—â–∏–π –æ–±—ä—ë–º –∏ –∑–∞–Ω—è—Ç–∞—è –ø–∞–º—è—Ç—å.

---

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

–°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ –ø—Ä–æ–µ–∫—Ç:

```bash
git clone https://github.com/uumk0n/prometheus-exporter.git
cd prometheus-exporter.git
```

### 2. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env`

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –∏ –¥–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

```plaintext
EXPORTER_HOST=0.0.0.0
EXPORTER_PORT=8000
```

### 3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å –ø–æ–º–æ—â—å—é Docker Compose

–°–æ–±–µ—Ä–∏—Ç–µ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã:

```bash
docker-compose up --build
```

---

## üåê –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º

1. **–≠–∫—Å–ø–æ—Ä—Ç–µ—Ä**: [http://localhost:8000](http://localhost:8000)  
   –ú–µ—Ç—Ä–∏–∫–∏ –¥–æ—Å—Ç—É–ø–Ω—ã –Ω–∞ –∫–æ—Ä–Ω–µ–≤–æ–º –ø—É—Ç–∏ `/`.
2. **Prometheus**: [http://localhost:9090](http://localhost:9090)  
   –ú–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã PromQL.
3. **Grafana**: [http://localhost:3000](http://localhost:3000)
   - **–õ–æ–≥–∏–Ω**: `admin`
   - **–ü–∞—Ä–æ–ª—å**: `admin` (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).

---

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Grafana

### –ò–º–ø–æ—Ä—Ç –¥–∞—à–±–æ—Ä–¥–∞

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Grafana: [http://localhost:3000](http://localhost:3000).
2. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ "Plus" (–ø–ª—é—Å) ‚Üí **Import**.
3. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–∞–π–ª `grafana_dashboard.json` –∏–∑ –∫–æ—Ä–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è.
4. –í—ã–±–µ—Ä–∏—Ç–µ –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö (Prometheus) –∏ –Ω–∞–∂–º–∏—Ç–µ **Import**.

---

## üìú PromQL –∑–∞–ø—Ä–æ—Å—ã

- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤**:

  ```promql
  sum by(core) (rate(cpu_usage{core=~"core_.*"}[5m]))
  ```

- **–ü–∞–º—è—Ç—å (–≤—Å–µ–≥–æ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)**:

  ```promql:grafana_dashboard.json
  {__name__=~"memory_(total|used)"} / 1024 / 1024 / 1024
  ```

- **–î–∏—Å–∫–∏ (–≤—Å–µ–≥–æ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)**:
  ```promql
  {__name__=~"disk_(total|used)"} / 1024 / 1024 / 1024
  ```

---

## üêã –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã

- **Exporter**: —Å–æ–±–∏—Ä–∞–µ—Ç –º–µ—Ç—Ä–∏–∫–∏ —Å–∏—Å—Ç–µ–º—ã.
- **Prometheus**: —Å–æ–±–∏—Ä–∞–µ—Ç –∏ —Ö—Ä–∞–Ω–∏—Ç –º–µ—Ç—Ä–∏–∫–∏.
- **Grafana**: –≤–∏–∑—É–∞–ª–∏–∑–∏—Ä—É–µ—Ç –º–µ—Ç—Ä–∏–∫–∏.
